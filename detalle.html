<body>

<div class="header">
  <div><b>Tu360 Compras</b></div>
  <div>Menu</div>
</div>

<div class="container">

  <div class="card">
    <b>Buena elección para tu viaje</b>
    <p>Mejora las condiciones de tu tarifa</p>
  </div>

  <!-- ===== IDA ===== -->
  <div class="card">

    <div class="section">
      <div><b>IDA</b></div>
      <div id="fechaIda"></div>
    </div>

    <div class="tarifas">
      <div class="tarifa basico selected" onclick="selectTarifa('ida','basico',0,this)">
        Básico
      </div>

      <div class="tarifa travel" onclick="selectTarifa('ida','travel',75783,this)">
        Travel + COP 75.783
      </div>

      <div class="tarifa standar" onclick="selectTarifa('ida','standar',87150,this)">
        Standard + COP 87.150
      </div>

      <div class="tarifa premium" onclick="selectTarifa('ida','premium',130102,this)">
        Premium + COP 130.102
      </div>
    </div>

    <div class="detalle" id="detalleIda"></div>

  </div>


  <!-- ===== VUELTA ===== -->
  <div class="card" id="boxVuelta">

    <div class="section">
      <div><b>VUELTA</b></div>
      <div id="fechaVuelta"></div>
    </div>

    <div class="tarifas">
      <div class="tarifa basico selected" onclick="selectTarifa('vuelta','basico',0,this)">
        Básico
      </div>

      <div class="tarifa travel" onclick="selectTarifa('vuelta','travel',75783,this)">
        Travel + COP 75.783
      </div>

      <div class="tarifa standar" onclick="selectTarifa('vuelta','standar',87150,this)">
        Standard + COP 87.150
      </div>

      <div class="tarifa premium" onclick="selectTarifa('vuelta','premium',130102,this)">
        Premium + COP 130.102
      </div>
    </div>

    <div class="detalle" id="detalleVuelta"></div>

  </div>


  <!-- ===== TOTAL ===== -->
  <div class="card">

    <div class="total">
      Tarifa: COP $ <span id="base">0</span>
    </div>

    <div class="total">
      Impuestos y tasas: COP $ 72.740
    </div>

    <div class="total big">
      Total: COP $ <span id="total">0</span>
    </div>

    <div class="total big">
      <span class="off">5% OFF</span>
      $ <span id="totalOff">0</span>
    </div>

    <button class="btn">
      Seguir
    </button>

  </div>

</div>

<!-- ===== FOOTER ===== -->

<div style="background:#2b2b2b; color:#fff; padding:20px; font-size:14px;">

  <h2>Tu360 Compras</h2>

  <p>Operado por NETVIAJES RNT 72357</p>

  <p>Netactica Colombia SAS . Nit 900132867-1</p>

  <p>Cra 15 # 88 -21 Of 502 Bogotá</p>

  <hr>

  <p>¿Tienes dudas?</p>
  <p>¿Necesitas financiación?</p>
  <p>Documentos legales</p>

  <hr>

  <p>Superintendencia de industria y comercio</p>
  <p>Supertransporte</p>
  <p>Derechos de los pasajeros</p>
  <p>Consultar RNT</p>
  <p>Contra la pornografía infantil</p>
  <p>Aerocivil</p>

  <div style="margin-top:20px; text-align:center;">
    Powered by <b>netactica</b>
  </div>

  <div style="margin-top:10px; text-align:center;">
    placetopay by evertec
  </div>

</div>


<script>

function getParam(name){
  return new URL(window.location.href).searchParams.get(name);
}

let tipo = getParam("tipo");

let precioIda = parseInt(getParam("precioIda") || 0);
let precioVuelta = parseInt(getParam("precioVuelta") || 0);

document.getElementById("fechaIda").innerText =
  getParam("ida") || "Fecha ida";

document.getElementById("fechaVuelta").innerText =
  getParam("vuelta") || "Fecha vuelta";

if(tipo === "oneway"){
  document.getElementById("boxVuelta").style.display = "none";
  precioVuelta = 0;
}

let extraIda = 0;
let extraVuelta = 0;


// ===== DETALLES POR TARIFA =====

const beneficios = {

  basico: `
    <div>Mochila o artículo personal <span>✔</span></div>
    <div>Equipaje de mano <span>con recargo</span></div>
    <div>Equipaje facturado <span>con recargo</span></div>
    <div>Selección de asiento <span>con recargo</span></div>
    <div>Embarque prioritario <span>✖</span></div>
    <div>Ticket <span>✔</span></div>
    <div>FlexiSmart <span>✖</span></div>
  `,

  travel: `
    <div>Mochila o artículo personal <span>✔</span></div>
    <div>Equipaje de mano <span>✔</span></div>
    <div>Equipaje facturado <span>con recargo</span></div>
    <div>Selección de asiento <span>✔</span></div>
    <div>Embarque prioritario <span>✖</span></div>
    <div>Ticket <span>✔</span></div>
    <div>FlexiSmart <span>✖</span></div>
  `,

  standar: `
    <div>Mochila o artículo personal <span>✔</span></div>
    <div>Equipaje de mano <span>✔</span></div>
    <div>Equipaje facturado <span>✔</span></div>
    <div>Selección de asiento <span>✔</span></div>
    <div>Embarque prioritario <span>✔</span></div>
    <div>Ticket <span>✔</span></div>
    <div>FlexiSmart <span>✖</span></div>
  `,

  premium: `
    <div>Mochila o artículo personal <span>✔</span></div>
    <div>Equipaje de mano <span>✔</span></div>
    <div>Equipaje facturado <span>✔</span></div>
    <div>Selección de asiento <span>✔</span></div>
    <div>Embarque prioritario <span>✔</span></div>
    <div>Ticket <span>✔</span></div>
    <div>FlexiSmart <span>✔</span></div>
  `
};


function selectTarifa(tramo, tipoTarifa, valor, elem){

  let cont = elem.parentElement;

  cont.querySelectorAll(".tarifa").forEach(t =>
    t.classList.remove("selected")
  );

  elem.classList.add("selected");

  if(tramo === "ida"){
    extraIda = valor;
    document.getElementById("detalleIda").innerHTML = beneficios[tipoTarifa];
  }

  if(tramo === "vuelta"){
    extraVuelta = valor;
    document.getElementById("detalleVuelta").innerHTML = beneficios[tipoTarifa];
  }

  calcular();
}

function calcular(){

  let base = precioIda + precioVuelta + extraIda + extraVuelta;

  document.getElementById("base").innerText =
    base.toLocaleString();

  let impuestos = 72740;

  let total = base + impuestos;

  document.getElementById("total").innerText =
    total.toLocaleString();

  let conOff = total - (total * 0.05);

  document.getElementById("totalOff").innerText =
    Math.floor(conOff).toLocaleString();
}


// Cargar por defecto detalles básicos
document.getElementById("detalleIda").innerHTML = beneficios.basico;
document.getElementById("detalleVuelta").innerHTML = beneficios.basico;

calcular();

</script>

</body>
</html>
