<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Itinerario – Pasajeros</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f2f2f2;
}
.header{
  background:#fff;
  padding:14px;
  font-size:18px;
  font-weight:bold;
  border-bottom:1px solid #ddd;
}
.container{
  padding:14px;
}

/* ===== ITINERARIO ===== */
.segment-card{
  background:#fff;
  border-radius:12px;
  margin-bottom:16px;
  overflow:hidden;
  box-shadow:0 2px 8px rgba(0,0,0,.1);
}
.segment-header{
  background:#2b2b2b;
  color:#fff;
  padding:12px 14px;
  font-weight:bold;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.segment-body{
  padding:14px;
  font-size:13px;
}
.segment-info{
  display:flex;
  justify-content:space-between;
  color:#555;
  margin-bottom:10px;
}
.route{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin:14px 0;
}
.airport{
  text-align:center;
  width:35%;
}
.airport b{
  font-size:16px; /* Más pequeño */
  color:#000;     /* Negro */
}
.flight-line{
  width:30%;
  text-align:center;
  font-size:20px;
  color:#000;      /* Avioncito negro */
  transform: rotate(0deg); /* Por defecto ida izquierda→derecha */
}
.route.vuelta .flight-line{
  transform: rotate(180deg); /* Avión vuelta derecha→izquierda */
}
.pending{
  font-size:12px;
  color:#c00;
  font-weight:bold;
}
.details{
  font-size:12px;
  color:#666;
  line-height:1.6;
}

/* ===== FORM ===== */
.card{
  background:#fff;
  border-radius:12px;
  margin-bottom:14px;
  padding:14px;
  box-shadow:0 2px 8px rgba(0,0,0,.1);
}
.title{
  font-size:18px;
  font-weight:bold;
  margin-bottom:10px;
}
.row{
  display:flex;
  gap:10px;
  margin-bottom:10px;
  flex-wrap:wrap;
}
.col{
  flex:1;
  min-width:120px;
}
input, select{
  width:100%;
  padding:8px;
  border:1px solid #ddd;
  border-radius:8px;
}
.btn{
  width:100%;
  background:#fff;
  border:1px solid #000;
  border-radius:30px;
  padding:12px;
  font-size:16px;
  margin-top:10px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="header">
  Tu360 Compras – Itinerario y Datos de pasajeros
</div>

<div class="container">
  <div class="card">
    <div class="title">Precio total con 5% OFF</div>
    <div id="precioFinal">Cargando...</div>
  </div>
</div>

<div class="container">

  <!-- IDA -->
  <div class="segment-card">
    <div class="segment-header">
      <span>IDA</span>
      <span>Directo</span>
    </div>

    <div class="segment-body">
      <div class="segment-info">
        Vuelo <span id="vueloIda"></span> – Económica
      </div>

      <div class="route">
        <div class="airport">
          <b id="origenCode"></b><br>
          <span class="pending">Hora pendiente</span>
        </div>

        <div class="flight-line">✈️</div>

        <div class="airport">
          <b id="destinoCode"></b><br>
          <span class="pending">Hora pendiente</span>
        </div>
      </div>

      <div class="details">
        Fecha: <span id="fechaIda"></span><br>
        Hora: <b>Pendiente de confirmación de reserva</b><br>
        Asiento: <span id="asientoIda"></span>
      </div>
    </div>
  </div>

  <!-- VUELTA -->
  <div class="segment-card" id="bloqueVuelta">
    <div class="segment-header">
      <span>VUELTA</span>
      <span>Directo</span>
    </div>

    <div class="segment-body">
      <div class="segment-info">
        Vuelo <span id="vueloVuelta"></span> – Económica
      </div>

      <div class="route vuelta">
        <div class="airport">
          <b id="destinoCodeV"></b><br>
          <span class="pending">Hora pendiente</span>
        </div>

        <div class="flight-line">✈️</div>

        <div class="airport">
          <b id="origenCodeV"></b><br>
          <span class="pending">Hora pendiente</span>
        </div>
      </div>

      <div class="details">
        Fecha: <span id="fechaVuelta"></span><br>
        Hora: <b>Pendiente de confirmación de reserva</b><br>
        Asiento: <span id="asientoVuelta"></span>
      </div>
    </div>
  </div>

</div>

<div class="container" id="boxPasajeros"></div>

<div class="container">
  <div class="card">
    <div class="title">Datos de Contacto</div>

    <div class="row">
      <div class="col"><input type="email" placeholder="E-mail"></div>
    </div>

    <div class="row">
      <div class="col"><input type="tel" placeholder="Teléfono"></div>
    </div>
  </div>

  <button class="btn">Finalizar reserva</button>
</div>

<script>
function getParam(name){
  return new URL(window.location.href).searchParams.get(name);
}

function generarVuelo(){
  let letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  return letras[Math.floor(Math.random()*26)] +
         letras[Math.floor(Math.random()*26)] +
         Math.floor(100 + Math.random()*900);
}

function generarAsiento(){
  let fila = Math.floor(1 + Math.random()*30);
  let letra = ["A","B","C","D","E","F"][Math.floor(Math.random()*6)];
  return fila + letra;
}

/* ===== PARAMS ===== */
let origen = getParam("origen") || "CLO";
let destino = getParam("destino") || "MDE";
let ida = getParam("ida") || "26 Feb";
let vuelta = getParam("vuelta");
let tipo = getParam("tipo") || "oneway";
let pasajeros = parseInt(getParam("pasajeros") || 1);

/* ===== IDA ===== */
document.getElementById("origenCode").innerText = origen; 
document.getElementById("destinoCode").innerText = destino; 
document.getElementById("fechaIda").innerText = ida;
document.getElementById("vueloIda").innerText = generarVuelo();
document.getElementById("asientoIda").innerText = generarAsiento();

/* ===== VUELTA ===== */
if(tipo === "oneway"){
  document.getElementById("bloqueVuelta").style.display = "none";
}else{
  document.getElementById("destinoCodeV").innerText = destino; 
  document.getElementById("origenCodeV").innerText = origen; 
  document.getElementById("fechaVuelta").innerText = vuelta;
  document.getElementById("vueloVuelta").innerText = generarVuelo();
  document.getElementById("asientoVuelta").innerText = generarAsiento();
}

/* ===== PASAJEROS ===== */
let box = document.getElementById("boxPasajeros");
let html = "";

for(let i=1;i<=pasajeros;i++){
  html += `
  <div class="card">
    <div class="title">Pasajero ${i} – Adulto</div>
    <div class="row">
      <div class="col"><input type="text" placeholder="Nombre"></div>
      <div class="col"><input type="text" placeholder="Apellido"></div>
    </div>
    <div class="row">
      <div class="col">
        <select>
          <option>Cédula</option>
          <option>Pasaporte</option>
        </select>
      </div>
      <div class="col"><input type="text" placeholder="Número documento"></div>
    </div>
    <div class="row">
      <div class="col">
        <small>Fecha de nacimiento</small>
        <input type="date">
      </div>
    </div>
  </div>`;
}

box.innerHTML = html;

/* ===== PRECIO CON 5% OFF ===== */
let precioFinal = parseFloat(getParam("precioFinal") || 0);
let precioOff = precioFinal * 0.95; // no redondeamos todavía
document.getElementById("precioFinal").innerText = "COP $ " + Number(precioOff).toLocaleString('es-CO');

</script>

</body>
</html>
